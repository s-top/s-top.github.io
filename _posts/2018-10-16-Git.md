---
layout: post
title: 读书笔记—Git团队协作（一）
tags: [开发技术]
---
#### 掌握Git精髓，解决版本控制、工作流问题，实现高效开发

* 关键词：Git For Teams -- 读书笔记

### 总览

#### Git方法论

1.优秀的技术源自优秀的团队

2.尽早为项目设定预期

3.带有清晰的目标工作

4.记录有助于日后工作的文档

5.用实战技能武装自己

6.学会从错误中恢复

7.和同队成员系统工作

8.通过同行评审，分享出色完成工作时的荣耀和责任

9.探索项目历史，寻求问题解决之道

10.通过开放的协作促进社区的成长

11.想要编写优良的代码，团队必须拥有自己的仓库

#### Part1 制定工作流

1.团队作战

+ 团队成员
+ 思维策略
    + 创造性思维：预见未来、另辟蹊径、头脑风暴、灵光一闪、勇于质疑、保持专注
    + 和理解性思维：评估现状、阐明现状、善于组织、敏锐感知、产生共鸣、善于表达
    + “敢作敢当”思维：分清主次、善于总结、验证结论、身体力行、价值驱动、相信直觉
+ 团队会议
    + 时间表：辨别问题本质(10min)、头脑风暴，寻找解决方案(25min)、整理想法(5min)、挑选至多三个想法进行验证(5min)
    + 项目启动
    + 追踪进展
        + 冲刺计划会议(随时准备接手新工作并对做完的工作负责的员工和倾向于别人为他们安排好工作的员工)
        + 承诺会议(针对他们工作中作出的“承诺”进行汇报)
        + 深入研讨会议(比如谷歌日历)
        + 冲刺演示会议(有利于发现新想法、分辨文档记录或后续修复bug)
        + 冲刺回顾会议(讨论工作流程)
    + 培养同理心
        + 搜集故事
        + 带有目的地倾听
        + 旧事重提
    + 回顾

2.Git中的团队协作

专业术语  | 说明
--------- | ---------
本地仓库副本  | 项目中的更改历史的独立副本
克隆副本(或派生forking)  | 开发者创建一个他们可以更改的仓库副本(可选私有或公有)
签出(check out)  | 为了从我当前的分支切换到另一个
提交(submit)  | 将我的更改持久存储到仓库
储藏(stash)  | 暂存更改，允许你随后拉取你刚刚储藏的工作并重新应用
抓取(pull)  | 从远端仓库抓取更改，然后自动并入我的仓库
拉取(fetch)  | 拉取新的更改并将它们合并(merge)进入本地分支(branch)的跟踪(tracked)副本
推送(push)  | 将我的分支推送到远端仓库

#### 命令与控制

分布式版本控制系统避免了集中式系统的权限控制方式。Git没有提供内置的规则来帮助你控制代码的访问权限，它只是一个内容跟踪工具。

1.项目治理：了解代码的归属，Git允许你追踪仓库中每一份代码的作者，甚至可以为添加到仓库的每一份代码加上签名

+ 版权和贡献值协议
+ 分发许可
    + MIT许可证：允许人们在注明原作者的前提下自由使用代码，并且你不需要为衍生的软件负责
    + Apache许可证：明确将原作者的专利授权给用户，并要求用户提供变更说明，描述你的作品在之前的版本上做了哪些修改
    + GNU General Public License(GPL)分为V2和V3：一个共享友好的版权协议，要求作品或衍生品的分发者将源码以相同协议共享
    + 创作共用许可证：允许你选择重新分发时是否能够修改以及能否用于商业目的
+ 领导力模型
    + 仁慈的独裁者(BDFL)：领导者或许不会活跃于每次代码评审中，但最终保留了驳回或撤销某个决定的权力
    + 共识驱动、主管批准：当社区对解决方案感到满意时，他们将这个标记为RTBC(ready to be committed)，通过社区审核与测试
    + 技术评审委员会或项目管理委员会：治理模型，该模型是基于一个Apache项目的项目管理委员会模型
+ 行为守则

2.访问模型

三种流行的访问模型：

> 单一仓库共同维护模型：团队中的每个人都是维护者，有权限向项目仓库上更改

> 并列贡献者仓库模型：提交贡献的开发者创建一个项目的远程副本，等待项目维护者接受他们的更改

> 分散贡献者仓库模型：代码通过文本格式的补丁包共享

#### 分支策略

在版本控制中，分支用于隔离一块代码上产生的不同想法。

1.理解分支

开发者创造了关于命名分支和使用分支的约定来避免冲突。这些约定帮助开发者决定在什么情况下允许工作出现偏离(创建新的分支)，以及什么时候合并(合并两个或多个分支中的提交对象)。

一般来说，一种约定包含了两类分支：

长期活跃的公开分支：扮演了代码中介的角色，并入大量开发者的贡献。

短暂的私有分支：隔离一个新想法的开发过程。这些新想法可以是一个bug修复、新增功能或实验性的重构。

当你和他人共享代码时，你可以继续在你的分支副本上添加提交对象；但是，既然分支已经被共享，可能其他人也在他们的分支副本上添加了提交对象。当你下次想要同步这两个分支时，Git作为纯粹的内容跟踪者，会转而借助你的经验来将这两份提交对象合并到一个共享的历史。自动化流程中的这个中断称为合并冲突(merge confict)。你的任务是解决冲突并为有问题的工作选择最合适的共享历史。

2.挑选约定

形成文档的约定让新参与者更加容易上手，而其他团队成员现在只需花费更少的时间来帮助新人。

挑选合适的分支策略，需要成员们共同讨论希望如何发布你们的工作成果。

3.几种约定

要么选择“优先合并”，要么查对完成的工作并一次性发布，要么介于两者之间。

> 主线分支开发

在这个策略中只有少量分支。开发者总是将他们的工作提交到一个中央分支，这个分支随时可部署。换句话说，项目的主分支应该只包含经过测试的工作，并且绝不应该被破坏。

主线分支开发：将所有提交保存在一个分支














