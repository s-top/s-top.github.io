---
layout: post
title: 读书笔记—Vue.js权威指南（十三）
tags: [前端技术]
---
#### 遇见Vue.js

* 关键词：Vue.js -- 读书笔记

### 二十、Cache

A doubly linked list-based Least Recently Used(LRU) cache.

Will keep most recently used items while discarding least recently used items when its limit is reached.

This is a bare-bone version of Rasmus Andersson's js-lru.

![image]({{ site.baseurl }}/assets/img/blog/2018-10-10-Cache/1.png)

> LRU(Least Recently Used)

![image]({{ site.baseurl }}/assets/img/blog/2018-10-10-Cache/2.png)

#### Cache类

方法  | 说明
--------- | ---------
put(key, value)  | 返回被删除的
shift()  | shift删除Cache里面最近最少使用的项，返回被删除的
get(key)  | 返回对应的值

#### props类

> 初始化props流程

![image]({{ site.baseurl }}/assets/img/blog/2018-10-10-Cache/3.png)

```javascript
    //设计一个didi-list列表组件
    export default{
        props:{
            gridData: Array,
            fields: Array
        }
    }
```

compileProps解析后的结果：

![image]({{ site.baseurl }}/assets/img/blog/2018-10-10-Cache/4.png)

gridData会通过hyphenate函数将gridData转换成符合kebab-case规则的grid-data：

```javascript
    var hyphenateRE = /([a-z\d])([A-Z])/g;
    function hyphenate(str){
        str = "gridData";
        return str.replace(hyphenateRE, '$1-$2').toLowerCase();
    }
```

fields的转换：

![image]({{ site.baseurl }}/assets/img/blog/2018-10-10-Cache/5.png)

gridData和fields转换成内部prop对象：

![image]({{ site.baseurl }}/assets/img/blog/2018-10-10-Cache/6.png)

#### 其他

在编译props时，会对属性name进行一些验证处理。

在coerce属性配置上我们可以设置转换函数。

type验证：String-Number-Boolean-Function-Object-Array。

default设置一些默认值。

validator可以设置自定义的验证函数。

### 二十一、events

通过methods对象配置来给模板DOM元素绑定事件，那么如何在Vue.js实例之间以及父子类之间通过事件来通信呢？

#### events配置是什么

可以理解为一些简单的配置对象：

Key是在实例事件比如$emit调用时传入的参数，是监听的事件名称。

Value是对应的处理函数。我们可以在Vue实例化时通过类似methods的配置项events。

>events初始化流程

![image]({{ site.baseurl }}/assets/img/blog/2018-10-10-Cache/7.png)

>实例化methods第一步

![image]({{ site.baseurl }}/assets/img/blog/2018-10-10-Cache/8.png)


















